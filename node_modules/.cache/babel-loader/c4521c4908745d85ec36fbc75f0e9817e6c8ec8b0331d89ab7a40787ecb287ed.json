{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\OneDrive\\\\Desktop\\\\chess\\\\src\\\\components\\\\ChessGame.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Chess } from \"chess.js\";\nimport { Chessboard } from \"react-chessboard\";\nimport { getSocket } from \"../socket\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChessGame = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const state = location.state || {};\n  const mode = state.mode || \"ai\";\n  const roomId = state.roomId;\n  const roomPassword = state.password;\n  const isOnline = mode === \"multiplayer\" || mode === \"random\";\n  const gameRef = useRef(new Chess());\n  const [fen, setFen] = useState(() => gameRef.current.fen());\n  const [playerColor, setPlayerColor] = useState(state.color || \"white\");\n  const [status, setStatus] = useState(\"\");\n  const [socket, setSocket] = useState(null);\n  useEffect(() => {\n    if (isOnline && !roomId) {\n      navigate(\"/main\");\n    }\n  }, [isOnline, navigate, roomId]);\n  useEffect(() => {\n    if (!isOnline) return;\n    const s = getSocket();\n    if (!s) {\n      navigate(\"/login\");\n      return;\n    }\n    setSocket(s);\n    s.emit(\"join_room\", {\n      roomId,\n      password: roomPassword\n    }, res => {\n      if (res !== null && res !== void 0 && res.error) {\n        setStatus(res.error);\n        return;\n      }\n      if (res !== null && res !== void 0 && res.color) {\n        setPlayerColor(res.color);\n      }\n      if (res !== null && res !== void 0 && res.fen) {\n        gameRef.current.load(res.fen);\n        setFen(res.fen);\n      }\n      setStatus(\"Waiting for opponent to join...\");\n    });\n    const handleMove = ({\n      fen: nextFen\n    }) => {\n      gameRef.current.load(nextFen);\n      setFen(nextFen);\n      setStatus(\"Your turn\");\n    };\n    const handleOpponentLeft = () => setStatus(\"Opponent left. Return to lobby.\");\n    const handleOpponentJoined = ({\n      username: opponent\n    }) => setStatus(`${opponent} joined the game.`);\n    const handleDisconnect = () => setStatus(\"Disconnected from server.\");\n    s.on(\"move\", handleMove);\n    s.on(\"opponent_left\", handleOpponentLeft);\n    s.on(\"opponent_joined\", handleOpponentJoined);\n    s.on(\"disconnect\", handleDisconnect);\n    return () => {\n      s.off(\"move\", handleMove);\n      s.off(\"opponent_left\", handleOpponentLeft);\n      s.off(\"opponent_joined\", handleOpponentJoined);\n      s.off(\"disconnect\", handleDisconnect);\n    };\n  }, [isOnline, roomId, navigate, roomPassword]);\n  const updateStatus = () => {\n    const turn = gameRef.current.turn() === \"w\" ? \"white\" : \"black\";\n    if (gameRef.current.isCheckmate()) {\n      setStatus(`Checkmate! ${turn === \"white\" ? \"Black\" : \"White\"} wins.`);\n    } else if (gameRef.current.isDraw()) {\n      setStatus(\"Draw.\");\n    } else {\n      setStatus(`${turn === \"white\" ? \"White\" : \"Black\"} to move.`);\n    }\n  };\n  useEffect(() => {\n    updateStatus();\n  }, [fen]);\n  const makeAiMove = () => {\n    if (mode !== \"ai\") return;\n    if (gameRef.current.isGameOver()) {\n      updateStatus();\n      return;\n    }\n    const possibleMoves = gameRef.current.moves();\n    if (possibleMoves.length === 0) {\n      updateStatus();\n      return;\n    }\n    const move = possibleMoves[Math.floor(Math.random() * possibleMoves.length)];\n    gameRef.current.move(move);\n    const newFen = gameRef.current.fen();\n    setFen(newFen);\n    updateStatus();\n  };\n  const onDrop = (sourceSquare, targetSquare) => {\n    if (gameRef.current.isGameOver()) return false;\n    if (isOnline) {\n      const turn = gameRef.current.turn() === \"w\" ? \"white\" : \"black\";\n      if (turn !== playerColor) {\n        setStatus(\"Opponent's turn.\");\n        return false;\n      }\n    }\n    const move = gameRef.current.move({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: \"q\"\n    });\n    if (move == null) return false;\n    const newFen = gameRef.current.fen();\n    setFen(newFen);\n    if (mode === \"ai\") {\n      setTimeout(() => makeAiMove(), 250);\n    } else if (socket && roomId) {\n      socket.emit(\"move\", {\n        roomId,\n        move,\n        fen: newFen\n      });\n    }\n    updateStatus();\n    return true;\n  };\n  const orientation = useMemo(() => playerColor, [playerColor]);\n  const handleBackToLobby = () => {\n    if (socket && isOnline && roomId) {\n      socket.emit(\"leave_room\");\n    }\n    navigate(\"/main\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"board-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Chessboard, {\n        position: fen,\n        onPieceDrop: onDrop,\n        boardOrientation: orientation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mini-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Mode: \", isOnline ? mode === \"random\" ? \"Random match\" : \"Private match\" : \"AI\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), isOnline && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Room: \", roomId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"My color: \", playerColor === \"white\" ? \"White\" : \"Black\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          className: \"status\",\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mini-card\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn secondary\",\n          onClick: handleBackToLobby,\n          children: \"Back to lobby\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n_s(ChessGame, \"Y8TaLxscuqcFrf6QZn8T7bHP9OQ=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = ChessGame;\nexport default ChessGame;\nvar _c;\n$RefreshReg$(_c, \"ChessGame\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useLocation","useNavigate","Chess","Chessboard","getSocket","jsxDEV","_jsxDEV","Fragment","_Fragment","ChessGame","_s","navigate","location","state","mode","roomId","roomPassword","password","isOnline","gameRef","fen","setFen","current","playerColor","setPlayerColor","color","status","setStatus","socket","setSocket","s","emit","res","error","load","handleMove","nextFen","handleOpponentLeft","handleOpponentJoined","username","opponent","handleDisconnect","on","off","updateStatus","turn","isCheckmate","isDraw","makeAiMove","isGameOver","possibleMoves","moves","length","move","Math","floor","random","newFen","onDrop","sourceSquare","targetSquare","from","to","promotion","setTimeout","orientation","handleBackToLobby","className","children","position","onPieceDrop","boardOrientation","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","onClick","_c","$RefreshReg$"],"sources":["C:/Users/PC/OneDrive/Desktop/chess/src/components/ChessGame.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Chess } from \"chess.js\";\nimport { Chessboard } from \"react-chessboard\";\nimport { getSocket } from \"../socket\";\n\nconst ChessGame = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const state = location.state || {};\n  const mode = state.mode || \"ai\";\n  const roomId = state.roomId;\n  const roomPassword = state.password;\n  const isOnline = mode === \"multiplayer\" || mode === \"random\";\n\n  const gameRef = useRef(new Chess());\n  const [fen, setFen] = useState(() => gameRef.current.fen());\n  const [playerColor, setPlayerColor] = useState(state.color || \"white\");\n  const [status, setStatus] = useState(\"\");\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    if (isOnline && !roomId) {\n      navigate(\"/main\");\n    }\n  }, [isOnline, navigate, roomId]);\n\n  useEffect(() => {\n    if (!isOnline) return;\n\n    const s = getSocket();\n    if (!s) {\n      navigate(\"/login\");\n      return;\n    }\n    setSocket(s);\n\n    s.emit(\"join_room\", { roomId, password: roomPassword }, (res) => {\n      if (res?.error) {\n        setStatus(res.error);\n        return;\n      }\n      if (res?.color) {\n        setPlayerColor(res.color);\n      }\n      if (res?.fen) {\n        gameRef.current.load(res.fen);\n        setFen(res.fen);\n      }\n      setStatus(\"Waiting for opponent to join...\");\n    });\n\n    const handleMove = ({ fen: nextFen }) => {\n      gameRef.current.load(nextFen);\n      setFen(nextFen);\n      setStatus(\"Your turn\");\n    };\n    const handleOpponentLeft = () => setStatus(\"Opponent left. Return to lobby.\");\n    const handleOpponentJoined = ({ username: opponent }) => setStatus(`${opponent} joined the game.`);\n    const handleDisconnect = () => setStatus(\"Disconnected from server.\");\n\n    s.on(\"move\", handleMove);\n    s.on(\"opponent_left\", handleOpponentLeft);\n    s.on(\"opponent_joined\", handleOpponentJoined);\n    s.on(\"disconnect\", handleDisconnect);\n\n    return () => {\n      s.off(\"move\", handleMove);\n      s.off(\"opponent_left\", handleOpponentLeft);\n      s.off(\"opponent_joined\", handleOpponentJoined);\n      s.off(\"disconnect\", handleDisconnect);\n    };\n  }, [isOnline, roomId, navigate, roomPassword]);\n\n  const updateStatus = () => {\n    const turn = gameRef.current.turn() === \"w\" ? \"white\" : \"black\";\n    if (gameRef.current.isCheckmate()) {\n      setStatus(`Checkmate! ${turn === \"white\" ? \"Black\" : \"White\"} wins.`);\n    } else if (gameRef.current.isDraw()) {\n      setStatus(\"Draw.\");\n    } else {\n      setStatus(`${turn === \"white\" ? \"White\" : \"Black\"} to move.`);\n    }\n  };\n\n  useEffect(() => {\n    updateStatus();\n  }, [fen]);\n\n  const makeAiMove = () => {\n    if (mode !== \"ai\") return;\n    if (gameRef.current.isGameOver()) {\n      updateStatus();\n      return;\n    }\n    const possibleMoves = gameRef.current.moves();\n    if (possibleMoves.length === 0) {\n      updateStatus();\n      return;\n    }\n    const move = possibleMoves[Math.floor(Math.random() * possibleMoves.length)];\n    gameRef.current.move(move);\n    const newFen = gameRef.current.fen();\n    setFen(newFen);\n    updateStatus();\n  };\n\n  const onDrop = (sourceSquare, targetSquare) => {\n    if (gameRef.current.isGameOver()) return false;\n\n    if (isOnline) {\n      const turn = gameRef.current.turn() === \"w\" ? \"white\" : \"black\";\n      if (turn !== playerColor) {\n        setStatus(\"Opponent's turn.\");\n        return false;\n      }\n    }\n\n    const move = gameRef.current.move({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: \"q\",\n    });\n\n    if (move == null) return false;\n\n    const newFen = gameRef.current.fen();\n    setFen(newFen);\n\n    if (mode === \"ai\") {\n      setTimeout(() => makeAiMove(), 250);\n    } else if (socket && roomId) {\n      socket.emit(\"move\", { roomId, move, fen: newFen });\n    }\n\n    updateStatus();\n    return true;\n  };\n\n  const orientation = useMemo(() => playerColor, [playerColor]);\n\n  const handleBackToLobby = () => {\n    if (socket && isOnline && roomId) {\n      socket.emit(\"leave_room\");\n    }\n    navigate(\"/main\");\n  };\n\n  return (\n    <div className=\"game-layout\">\n      <div className=\"board-wrapper\">\n        <Chessboard position={fen} onPieceDrop={onDrop} boardOrientation={orientation} />\n      </div>\n      <div className=\"info-grid\">\n        <div className=\"mini-card\">\n          <div>Mode: {isOnline ? (mode === \"random\" ? \"Random match\" : \"Private match\") : \"AI\"}</div>\n          {isOnline && (\n            <>\n              <div>Room: {roomId}</div>\n              <div>My color: {playerColor === \"white\" ? \"White\" : \"Black\"}</div>\n            </>\n          )}\n          <div style={{ marginTop: 8 }} className=\"status\">\n            {status}\n          </div>\n        </div>\n        <div className=\"mini-card\">\n          <button className=\"btn secondary\" onClick={handleBackToLobby}>\n            Back to lobby\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChessGame;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}